<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Profile</title>

<style>
  body {
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    margin:0;
  }

  .card {
    max-width:520px;
    margin:40px auto;
    background:#fff;
    padding:24px;
    border-radius:14px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    text-align:center;
  }

  img {
    width:120px;
    height:120px;
    border-radius:50%;
    object-fit:cover;
    margin-bottom:16px;
    border:4px solid #2563eb;
  }

  h2 {
    margin:10px 0 4px;
  }

  .total {
    font-size:18px;
    font-weight:bold;
    margin-top:16px;
    color:#2563eb;
  }

  .skill {
    text-align:left;
    margin-top:14px;
  }

  .bar {
    background:#e5e7eb;
    height:8px;
    border-radius:6px;
    margin-top:6px;
    overflow:hidden;
  }

  .fill {
    background:#2563eb;
    height:100%;
    border-radius:6px;
  }

  .badges {
    margin-top:12px;
  }

  .badge {
    display:inline-block;
    background:#facc15;
    padding:4px 10px;
    border-radius:999px;
    font-size:12px;
    font-weight:bold;
    margin:4px;
  }
</style>
</head>

<body>

<div class="card" id="profile">Loading...</div>

<!-- âœ… SHARED DATA SOURCE -->
<script src="data/students.js"></script>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

const student = students.find(s => s.id == id);

if (!student) {
  document.getElementById("profile").innerHTML = "Student not found";
} else {
  const total = student.robotics + student.programming + student.electronics;

  const badgesHTML = student.badges
    ? student.badges.map(b => `<span class="badge">${b}</span>`).join("")
    : "";

  document.getElementById("profile").innerHTML = `
    <img src="${student.photo}" alt="${student.name}">
    <h2>${student.name}</h2>

    <div class="skill">
      Robotics: ${student.robotics}/10
      <div class="bar"><div class="fill" style="width:${student.robotics * 10}%"></div></div>
    </div>

    <div class="skill">
      Programming: ${student.programming}/10
      <div class="bar"><div class="fill" style="width:${student.programming * 10}%"></div></div>
    </div>

    <div class="skill">
      Electronics: ${student.electronics}/10
      <div class="bar"><div class="fill" style="width:${student.electronics * 10}%"></div></div>
    </div>

    <div class="total">Total Score: ${total}</div>

    <div class="badges">${badgesHTML}</div>
  `;
}
</script>

</body>
</html>
